# 012. ìš”ì¼ ì„¤ì • ê¸°ëŠ¥ êµ¬í˜„ ê³„íš

## ğŸ“‹ ì‘ì—… ê°œìš”
- **ì‘ì—…ëª…**: ë£¨í‹´ ì¶”ê°€/ìˆ˜ì • í™”ë©´ì— ìš”ì¼ ì„¤ì • ê¸°ëŠ¥ ì¶”ê°€
- **ì‘ì—… ìœ í˜•**: ê¸°ëŠ¥ ì¶”ê°€
- **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2ì‹œê°„
- **ìš°ì„ ìˆœìœ„**: P0 (MVP í•„ìˆ˜ ê¸°ëŠ¥)

## ğŸ¯ ì‘ì—… ëª©í‘œ
ë£¨í‹´ ì¶”ê°€/ìˆ˜ì • ì‹œ ì‚¬ìš©ìê°€ ë£¨í‹´ì„ ìˆ˜í–‰í•  ìš”ì¼ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬, ê°œì¸ì˜ ì¼ì •ì— ë§ëŠ” ë§ì¶¤í˜• ë£¨í‹´ ê´€ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.

## ğŸ” í˜„ì¬ ìƒí™© ë¶„ì„

### ë¬¸ì œì 
1. ë£¨í‹´ ìƒì„± ì‹œ ìš”ì¼ ì„¤ì •ì´ `ScheduleType.daily`ë¡œ í•˜ë“œì½”ë”©ë¨
2. RoutineFormì— ìš”ì¼ ì„ íƒ UIê°€ ì—†ìŒ
3. ì‚¬ìš©ìê°€ í‰ì¼/ì£¼ë§ë§Œ í•˜ê±°ë‚˜ íŠ¹ì • ìš”ì¼ë§Œ í•˜ëŠ” ë£¨í‹´ì„ ë§Œë“¤ ìˆ˜ ì—†ìŒ

### ê¸°ì¡´ êµ¬í˜„ ìƒíƒœ
- âœ… `ScheduleType` enum êµ¬í˜„ ì™„ë£Œ (daily, weekday, weekend, custom)
- âœ… `Routine` ì—”í‹°í‹°ì— scheduleTypeê³¼ customDays í•„ë“œ ì¡´ì¬
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì— schedule_typeê³¼ custom_days ì»¬ëŸ¼ ì¡´ì¬
- âŒ UIì—ì„œ ìš”ì¼ ì„¤ì • ê¸°ëŠ¥ ëˆ„ë½

## ğŸ“ êµ¬í˜„ ê³„íš

### 1. RoutineForm ìœ„ì ¯ ìˆ˜ì •
**íŒŒì¼**: `lib/features/routine/presentation/widgets/routine_form.dart`

#### ì¶”ê°€í•  State ë³€ìˆ˜
```dart
late ScheduleType _selectedScheduleType;
Set<int> _selectedCustomDays = {};
```

#### UI êµ¬ì„±
1. **ë°˜ë³µ ìš”ì¼ ì„¹ì…˜** (ìƒ‰ìƒ ì„ íƒ ì•„ë˜ ì¶”ê°€)
   - ì œëª©: "ë°˜ë³µ ìš”ì¼"
   - ë¹ ë¥¸ ì„ íƒ ë²„íŠ¼ (SegmentedButton)
     - ë§¤ì¼ (ScheduleType.daily)
     - í‰ì¼ (ScheduleType.weekday)
     - ì£¼ë§ (ScheduleType.weekend)
     - ì»¤ìŠ¤í…€ (ScheduleType.custom)

2. **ì»¤ìŠ¤í…€ ìš”ì¼ ì„ íƒ** (ì»¤ìŠ¤í…€ ì„ íƒ ì‹œë§Œ í‘œì‹œ)
   - ì›”~ì¼ ê° ìš”ì¼ë³„ ChoiceChip
   - ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒ í•„ìˆ˜
   - ì„ íƒëœ ìš”ì¼ì€ primary ìƒ‰ìƒìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸

3. **ë¯¸ë¦¬ë³´ê¸° ì„¹ì…˜ ì—…ë°ì´íŠ¸**
   - ì„ íƒëœ ìš”ì¼ ì •ë³´ í‘œì‹œ
   - ì˜ˆ: "ë§¤ì¼", "ì›”-ê¸ˆ", "ì›”, ìˆ˜, ê¸ˆ"

### 2. HomeScreen ìˆ˜ì •
**íŒŒì¼**: `lib/features/routine/presentation/screens/home_screen.dart`

#### ë£¨í‹´ ìƒì„± ì‹œ (line 60-70)
```dart
final routine = Routine(
  // ... ê¸°ì¡´ í•„ë“œë“¤ ...
  scheduleType: routineData['scheduleType'] ?? ScheduleType.daily,
  customDays: routineData['customDays'],
  // ...
);
```

#### ë£¨í‹´ ìˆ˜ì • ì‹œ (line 250-256)
```dart
child: RoutineForm(
  routine: {
    // ... ê¸°ì¡´ í•„ë“œë“¤ ...
    'scheduleType': routine.scheduleType,
    'customDays': routine.customDays,
  },
  // ...
),
```

### 3. RoutineCard ìœ„ì ¯ ìˆ˜ì •
**íŒŒì¼**: `lib/features/routine/presentation/widgets/routine_card.dart`

#### ìš”ì¼ ì •ë³´ í‘œì‹œ ì¶”ê°€
- ë£¨í‹´ ì´ë¦„ ì•„ë˜ì— ì‘ì€ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ
- `routine.scheduleDescription` í™œìš©
- ìŠ¤íƒ€ì¼: `AppTextStyles.caption` with `textSecondary` ìƒ‰ìƒ

## ğŸ¨ UI/UX ë””ìì¸

### ìš”ì¼ ì„ íƒ UI ë ˆì´ì•„ì›ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë°˜ë³µ ìš”ì¼                        â”‚
â”‚                                   â”‚
â”‚  [ë§¤ì¼] [í‰ì¼] [ì£¼ë§] [ì»¤ìŠ¤í…€]     â”‚ â† SegmentedButton
â”‚                                   â”‚
â”‚  ì›”  í™”  ìˆ˜  ëª©  ê¸ˆ  í†   ì¼        â”‚ â† ChoiceChips (ì»¤ìŠ¤í…€ ì„ íƒ ì‹œ)
â”‚  â—   â—   â—   â—   â—   â—‹   â—‹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒ‰ìƒ ë° ìŠ¤íƒ€ì¼
- ì„ íƒëœ ë²„íŠ¼: `AppColors.primary` ë°°ê²½
- ë¹„ì„ íƒ ë²„íŠ¼: `AppColors.surface` ë°°ê²½
- ì„ íƒëœ ìš”ì¼ ì¹©: `AppColors.primary` ë°°ê²½, í°ìƒ‰ í…ìŠ¤íŠ¸
- ë¹„ì„ íƒ ìš”ì¼ ì¹©: íˆ¬ëª… ë°°ê²½, í…Œë‘ë¦¬ë§Œ

### ì¸í„°ë™ì…˜
- ë²„íŠ¼/ì¹© ì„ íƒ ì‹œ í–…í‹± í”¼ë“œë°± (`HapticFeedback.selectionClick()`)
- ì• ë‹ˆë©”ì´ì…˜: 200ms í˜ì´ë“œ ì „í™˜
- ì»¤ìŠ¤í…€ ì„ íƒ ì‹œ ìš”ì¼ ì¹© ìŠ¬ë¼ì´ë“œ ë‹¤ìš´ ì• ë‹ˆë©”ì´ì…˜

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„íš

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
1. ê° ScheduleTypeë³„ ì„ íƒ ë° ì €ì¥ í…ŒìŠ¤íŠ¸
2. customDays ë°ì´í„° ë³€í™˜ í…ŒìŠ¤íŠ¸ (Set<int> â†” List<int>)
3. ìš”ì¼ ì„¤ëª… í…ìŠ¤íŠ¸ ìƒì„± í…ŒìŠ¤íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸
1. ë£¨í‹´ ìƒì„± í”Œë¡œìš°
   - ë§¤ì¼/í‰ì¼/ì£¼ë§ ì„ íƒ â†’ ì €ì¥ â†’ ë¦¬ìŠ¤íŠ¸ í™•ì¸
   - ì»¤ìŠ¤í…€ ìš”ì¼ ì„ íƒ â†’ ì €ì¥ â†’ ë¦¬ìŠ¤íŠ¸ í™•ì¸

2. ë£¨í‹´ ìˆ˜ì • í”Œë¡œìš°
   - ê¸°ì¡´ ìš”ì¼ ì„¤ì • í‘œì‹œ í™•ì¸
   - ìš”ì¼ ë³€ê²½ â†’ ì €ì¥ â†’ ë³€ê²½ì‚¬í•­ ë°˜ì˜ í™•ì¸

3. ê²€ì¦ ë¡œì§
   - ì»¤ìŠ¤í…€ ì„ íƒ ì‹œ ìµœì†Œ 1ê°œ ìš”ì¼ ì„ íƒ ê²€ì¦
   - ìš”ì¼ ë¯¸ì„ íƒ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
1. í‰ì¼ì—ë§Œ í•˜ëŠ” ìš´ë™ ë£¨í‹´ ìƒì„±
2. ì£¼ë§ì—ë§Œ í•˜ëŠ” ì²­ì†Œ ë£¨í‹´ ìƒì„±
3. ì›”/ìˆ˜/ê¸ˆë§Œ í•˜ëŠ” ê³µë¶€ ë£¨í‹´ ìƒì„±
4. ë§¤ì¼ í•˜ëŠ” ë£¨í‹´ì„ í‰ì¼ë¡œ ë³€ê²½

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ê°œì¸ ì¼ì •ì— ë§ëŠ” ë§ì¶¤í˜• ë£¨í‹´ ì„¤ì • ê°€ëŠ¥
- ë¶ˆí•„ìš”í•œ ì•Œë¦¼ ê°ì†Œ (í•´ë‹¹ ìš”ì¼ì—ë§Œ í™œì„±í™”)
- ë” í˜„ì‹¤ì ì¸ ë‹¬ì„±ë¥  ê³„ì‚°

### ê¸°ìˆ ì  ê°œì„ 
- ë°ì´í„° ëª¨ë¸ê³¼ UIì˜ ì™„ì „í•œ ì—°ë™
- í™•ì¥ ê°€ëŠ¥í•œ ìŠ¤ì¼€ì¤„ ì‹œìŠ¤í…œ êµ¬ì¶•
- í–¥í›„ ë°˜ë³µ íŒ¨í„´ ì¶”ê°€ ìš©ì´ (ê²©ì£¼, ë§¤ì›” ë“±)

## ğŸ”§ êµ¬í˜„ ìˆœì„œ

1. RoutineFormì— ìš”ì¼ ì„ íƒ UI êµ¬ì„± ìš”ì†Œ ì¶”ê°€
2. State ê´€ë¦¬ ë¡œì§ êµ¬í˜„
3. ë°ì´í„° ë³€í™˜ ë° ê²€ì¦ ë¡œì§ ì¶”ê°€
4. HomeScreenì—ì„œ ë°ì´í„° ì „ë‹¬ ë¡œì§ ìˆ˜ì •
5. RoutineCardì— ìš”ì¼ ì •ë³´ í‘œì‹œ ì¶”ê°€
6. í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…
7. ì‘ì—… ì¼ì§€ ì‘ì„±

## ğŸ“š ì°¸ê³  ìë£Œ

### ê´€ë ¨ íŒŒì¼
- `lib/features/routine/domain/entities/schedule_type.dart`
- `lib/features/routine/domain/entities/routine.dart`
- `lib/features/routine/presentation/widgets/routine_form.dart`
- `lib/features/routine/presentation/screens/home_screen.dart`

### Flutter ìœ„ì ¯
- [SegmentedButton](https://api.flutter.dev/flutter/material/SegmentedButton-class.html)
- [ChoiceChip](https://api.flutter.dev/flutter/material/ChoiceChip-class.html)
- [AnimatedContainer](https://api.flutter.dev/flutter/widgets/AnimatedContainer-class.html)

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°ì´í„° ì¼ê´€ì„±**: customDaysëŠ” 1(ì›”ìš”ì¼)~7(ì¼ìš”ì¼) ë²”ìœ„ì˜ ì •ìˆ˜ ì‚¬ìš©
2. **NULL ì²˜ë¦¬**: customì´ ì•„ë‹Œ ê²½ìš° customDaysëŠ” null ë˜ëŠ” ë¹ˆ ë¦¬ìŠ¤íŠ¸
3. **ë§ˆì´ê·¸ë ˆì´ì…˜**: ê¸°ì¡´ ë£¨í‹´ë“¤ì€ ëª¨ë‘ dailyë¡œ ì²˜ë¦¬
4. **ì„±ëŠ¥**: ìš”ì¼ë³„ í•„í„°ë§ ì‹œ ì¸ë±ìŠ¤ í™œìš© ê³ ë ¤